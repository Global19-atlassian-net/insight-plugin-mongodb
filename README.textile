h1. This is a MongoDB plugin for Spring Insight

Spring Insight runs in the SpringSource tc Server. See http://www.springsource.org/insight for details.

h2. What does it do?

It instruments calls to MongoDB from the Java driver. All calls on the DBCollection and DB classes are traced. 

h2. Installing the plugin

Pull the code: <code>git://github.com/NogbadTheBad/insight-plugin-mongodb.git</code>

Now build it:

<pre>
<code>
cd insight-plugin-mongodb
mvn clean package
</code>
</pre>

You'll need to have tc Server Developer Edition installed. Let's call the location of that <code><tcServer></code>.

Now copy the plugin jar to the right place under <code><tcServer></code>.

<pre>
<code>
cp target/insight-plugin-mongodb-x.x.jar <tcServer>/spring-insight-instance/insight/collection-plugins
</code>
</pre>

h2. Running the plugin

Start up Spring Insight Server as usual (see the Spring tc Server documentation above) and make sure your WAR file is loaded. Start your application and make sure it's running.

Browse to http://localhost:8080/insight to see the Spring Insight dashboard. Click on the Administration button and then _Collection Plug-ins_ under _Reports and Statistics_.

If you can see the mongodb plugin it's installed and running.

h2. Known issues

I'm having trouble with passing arguments from the pointcut to the operation. I'm looking at it.

